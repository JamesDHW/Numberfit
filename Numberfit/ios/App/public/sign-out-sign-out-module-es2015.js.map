{"version":3,"sources":["./src/app/sign-out/sign-out.page.html","./src/app/sign-out/sign-out.module.ts","./src/app/sign-out/sign-out.page.scss","./src/app/sign-out/sign-out.page.ts"],"names":[],"mappings":"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","file":"sign-out-sign-out-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title><img class=\\\"header-image\\\" src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n  </ion-toolbar>\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/@ionic/core@next/css/ionic.bundle.css\\\"/>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\">\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-card-content>\\n      <ion-card-header>\\n        <ion-card-title class=\\\"welcome-card-title\\\">Sign Out?</ion-card-title>\\n      </ion-card-header>\\n      <section class=\\\"center\\\">\\n        <h2>Are You Sure You Want to Sign Out?</h2>\\n        <ion-button\\n        (click)=\\\"signOut()\\\" style=\\\"margin: 10%;\\\" fill=\\\"solid\\\"\\n        size=\\\"medium\\\" color=\\\"danger\\\" routerLink=\\\"../sign-in\\\">\\n          Sign Out\\n        </ion-button>\\n      </section>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './sign-out.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".f1 {\\n  font-size: medium;\\n  font-weight: 500;\\n}\\n\\nheader {\\n  font-size: 15px;\\n  font-weight: 600;\\n  letter-spacing: 0.05em;\\n  text-align: center;\\n}\\n\\n.center {\\n  text-align: center;\\n  margin-top: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL3NpZ24tb3V0L3NpZ24tb3V0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2lnbi1vdXQvc2lnbi1vdXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQ0NGOztBRENBO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC9zaWduLW91dC9zaWduLW91dC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZjEge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiA1MCU7XG59XG4iLCIuZjEge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jZW50ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDUwJTtcbn0iXX0= */\"","import { ScreenOrientation }  from '@ionic-native/screen-orientation/ngx';\nimport { NativeStorage }      from '@ionic-native/native-storage/ngx';\nimport { Component }          from '@angular/core';\nimport { Router }             from '@angular/router';\nimport { HTTP }               from '@ionic-native/http/ngx';\n\n\n@Component({\n  selector    : 'app-sign-out',\n  templateUrl : 'sign-out.page.html',\n  styleUrls   : ['sign-out.page.scss'],\n})\n\nexport class HomePage {\n\n  // server : string = \"http://localhost:3000\";\n  server : string = require('../config.json').server;\n  cookie : any;\n\n  constructor(\n    private screenOrientation : ScreenOrientation,\n    private nativeStorage     : NativeStorage,\n    private router            : Router,\n    private http              : HTTP,\n  ) {\n    // lock screen portrait\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    // Get cookie from storage\n    this.nativeStorage.getItem('cookie').then((data) => {\n      this.cookie = data.cookie\n    });\n  }\n\n  signOut(){\n\n    // console.log(\"send to\", this.server+\"/logout?session=\"+this.cookie)\n    this.http.get(this.server+\"/logout?session=\"+this.cookie,{},{})\n    .then(data => {\n      this.nativeStorage.setItem('cookie', {cookie: \"-\"})\n      .then(() => {\n        console.log(\"Cookie removed!\")\n        this.router.navigate(['/sign-in'], { replaceUrl: true })\n      }, error => console.error('Error storing item', error));\n\n    })\n    .catch(error => {\n      console.log(\"status\", error.status);\n      console.log(\"error\", error.error);\n      this.presentAlert(\"Connection\",\"Failed to sign out.\")\n    });\n\n  };\n\n  presentAlert(header, msg) {\n    const alert = document.createElement('ion-alert');\n    alert.header = header;\n    alert.message = msg;\n    alert.buttons = ['OK'];\n    document.body.appendChild(alert);\n    alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///"}