{"version":3,"sources":["src/app/sign-out/sign-out.page.html","src/app/sign-out/sign-out.module.ts","src/app/sign-out/sign-out.page.scss","src/app/sign-out/sign-out.page.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\n  <ion-toolbar>\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title><img class=\\\"header-image\\\" src=\\\"/assets/NumberfitLogo.png\\\"/></ion-title>\\n  </ion-toolbar>\\n  <link rel=\\\"stylesheet\\\" href=\\\"https://cdn.jsdelivr.net/npm/@ionic/core@next/css/ionic.bundle.css\\\"/>\\n</ion-header>\\n\\n<ion-content class=\\\"ion-content\\\">\\n  <ion-card class=\\\"welcome-card\\\">\\n    <ion-card-content>\\n      <ion-card-header>\\n        <ion-card-title class=\\\"welcome-card-title\\\">Sign Out?</ion-card-title>\\n      </ion-card-header>\\n      <section class=\\\"center\\\">\\n        <h2>Are You Sure You Want to Sign Out?</h2>\\n        <ion-button\\n        (click)=\\\"signOut()\\\" style=\\\"margin: 10%;\\\" fill=\\\"solid\\\"\\n        size=\\\"medium\\\" color=\\\"danger\\\" routerLink=\\\"../sign-in\\\">\\n          Sign Out\\n        </ion-button>\\n      </section>\\n    </ion-card-content>\\n  </ion-card>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\n\nimport { HomePage } from './sign-out.page';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    RouterModule.forChild([\n      {\n        path: '',\n        component: HomePage\n      }\n    ])\n  ],\n  declarations: [HomePage]\n})\nexport class HomePageModule {}\n","export default \".f1 {\\n  font-size: medium;\\n  font-weight: 500;\\n}\\n\\nheader {\\n  font-size: 15px;\\n  font-weight: 600;\\n  letter-spacing: 0.05em;\\n  text-align: center;\\n}\\n\\n.center {\\n  text-align: center;\\n  margin-top: 50%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9qYW1lcy9naXRodWIvTnVtYmVyZml0L051bWJlcmZpdC9zcmMvYXBwL3NpZ24tb3V0L3NpZ24tb3V0LnBhZ2Uuc2NzcyIsInNyYy9hcHAvc2lnbi1vdXQvc2lnbi1vdXQucGFnZS5zY3NzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBO0VBQ0UsaUJBQUE7RUFDQSxnQkFBQTtBQ0NGOztBREVBO0VBQ0UsZUFBQTtFQUNBLGdCQUFBO0VBQ0Esc0JBQUE7RUFDQSxrQkFBQTtBQ0NGOztBRENBO0VBQ0Usa0JBQUE7RUFDQSxlQUFBO0FDRUYiLCJmaWxlIjoic3JjL2FwcC9zaWduLW91dC9zaWduLW91dC5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZjEge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG4uY2VudGVyIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBtYXJnaW4tdG9wOiA1MCU7XG59XG4iLCIuZjEge1xuICBmb250LXNpemU6IG1lZGl1bTtcbiAgZm9udC13ZWlnaHQ6IDUwMDtcbn1cblxuaGVhZGVyIHtcbiAgZm9udC1zaXplOiAxNXB4O1xuICBmb250LXdlaWdodDogNjAwO1xuICBsZXR0ZXItc3BhY2luZzogMC4wNWVtO1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG59XG5cbi5jZW50ZXIge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIG1hcmdpbi10b3A6IDUwJTtcbn0iXX0= */\"","import { ScreenOrientation }  from '@ionic-native/screen-orientation/ngx';\nimport { NativeStorage }      from '@ionic-native/native-storage/ngx';\nimport { Component }          from '@angular/core';\nimport { Router }             from '@angular/router';\nimport { HTTP }               from '@ionic-native/http/ngx';\n\n\n@Component({\n  selector    : 'app-sign-out',\n  templateUrl : 'sign-out.page.html',\n  styleUrls   : ['sign-out.page.scss'],\n})\n\nexport class HomePage {\n\n  // server : string = \"http://localhost:3000\";\n  server : string = require('../config.json').server;\n  cookie : any;\n\n  constructor(\n    private screenOrientation : ScreenOrientation,\n    private nativeStorage     : NativeStorage,\n    private router            : Router,\n    private http              : HTTP,\n  ) {\n    // lock screen portrait\n    this.screenOrientation.lock(this.screenOrientation.ORIENTATIONS.PORTRAIT);\n    // Get cookie from storage\n    this.nativeStorage.getItem('cookie').then((data) => {\n      this.cookie = data.cookie\n    });\n  }\n\n  signOut(){\n\n    // console.log(\"send to\", this.server+\"/logout?session=\"+this.cookie)\n    this.http.get(this.server+\"/logout?session=\"+this.cookie,{},{})\n    .then(data => {\n      this.nativeStorage.setItem('cookie', {cookie: \"-\"})\n      .then(() => {\n        console.log(\"Cookie removed!\")\n        this.router.navigate(['/sign-in'], { replaceUrl: true })\n      }, error => console.error('Error storing item', error));\n\n    })\n    .catch(error => {\n      console.log(\"status\", error.status);\n      console.log(\"error\", error.error);\n      this.presentAlert(\"Connection\",\"Failed to sign out.\")\n    });\n\n  };\n\n  presentAlert(header, msg) {\n    const alert = document.createElement('ion-alert');\n    alert.header = header;\n    alert.message = msg;\n    alert.buttons = ['OK'];\n    document.body.appendChild(alert);\n    alert.present();\n  }\n\n}\n"],"sourceRoot":"webpack:///","file":"sign-out-sign-out-module-es5.js"}